<?xml version="1.0"?>
<launch>
    <arg name="use_front_iiwa" default="true" />
    <arg name="use_back_iiwa" default="false" />
    <arg name="hardware_interface" default="hardware_interface/EffortJointInterface"/>
    <arg name="machine_name" default="realtime" />
    <arg name="machine_address" default="192.168.10.1" />
<!--    <arg name="front_controllers" default="joint_torque_trajectory_controller" />-->
<!--    <arg name="back_controllers" default="joint_torque_trajectory_controller" />-->
<!--    <arg name="front_controllers" default="joint_position_trajectory_controller" />-->
<!--    <arg name="back_controllers" default="joint_position_trajectory_controller" />-->
<!--    <arg name="front_controllers" default="joint_position_impedance_trajectory_controller" />-->
<!--    <arg name="back_controllers" default="joint_position_impedance_trajectory_controller" />-->
<!--    <arg name="front_controllers" default="joint_feedforward_trajectory_controller" />-->
<!--    <arg name="back_controllers" default="joint_feedforward_trajectory_controller" />-->
    <arg name="front_controllers" default="adrc_trajectory_controller" />
    <arg name="back_controllers" default="adrc_trajectory_controller" />

    <arg name="user_name" default="puze"/>
    <arg name="env_load_dir" default="~/catkin_ws/src/iiwas_core/iiwas_bringup/env.sh"/>

    <machine name="$(arg machine_name)" user="$(arg user_name)" address="$(arg machine_address)"
         env-loader="$(arg env_load_dir)" timeout="10.0" default="false"/>

    <!-- Description -->
    <include file="$(find iiwas_description)/launch/iiwas_description.launch">
        <arg name="hardware_interface" value="$(arg hardware_interface)"/>
    </include>

    <node name="rviz" pkg="rviz" type="rviz"
          args="-d $(find iiwas_description)/config/iiwas_two_separate.rviz"/>

    <group ns="iiwas_frame">
        <node pkg="robot_state_publisher" type="robot_state_publisher" name="frame_publisher" output="screen">
            <param name="publish_frequency" type="double" value="50.0"/>
        </node>
    </group>

    <include file="$(find iiwas_bringup)/launch/iiwas_barebone.launch">
        <arg name="use_front_iiwa" value="$(arg use_front_iiwa)" />
        <arg name="use_back_iiwa" value="$(arg use_back_iiwa)" />
        <arg name="machine_name" value="$(arg machine_name)" />
        <arg name="front_controllers" value="$(arg front_controllers)" />
        <arg name="back_controllers" value="$(arg back_controllers)" />
    </include>

</launch>
