<?xml version="1.0"?>
<launch>
    <arg name="use_front_iiwa" default="true" />
    <arg name="use_back_iiwa" default="false" />
    <arg name="hardware_interface" default="hardware_interface/PositionJointInterface"/>

    <!-- Description -->
    <include file="$(find iiwas_description)/launch/iiwas_bringup.launch">
        <arg name="use_front_iiwa" value="$(arg use_front_iiwa)"/>
        <arg name="use_back_iiwa" value="$(arg use_back_iiwa)"/>
        <arg name="hardware_interface" value="$(arg hardware_interface)"/>
    </include>

    <node name="rviz" pkg="rviz" type="rviz"
          args="-d $(find iiwas_description)/config/iiwas_two_separate.rviz"/>

    <group ns="iiwas_frame">
        <node pkg="robot_state_publisher" type="robot_state_publisher" name="frame_publisher" output="screen">
            <param name="publish_frequency" type="double" value="50.0"/>
        </node>
    </group>

    <include file="$(find iiwas_driver)/launch/iiwas_driver.launch" >
        <arg name="use_front_iiwa" value="$(arg use_front_iiwa)"/>
        <arg name="use_back_iiwa" value="$(arg use_back_iiwa)"/>
    </include>

    <!-- Controllers -->
    <include file="$(find iiwas_control)/launch/iiwas_control.launch">
        <arg name="use_front_iiwa" value="$(arg use_front_iiwa)" />
        <arg name="use_back_iiwa" value="$(arg use_back_iiwa)" />
        <arg name="front_controllers" value="joint_trajectory_controller"/>
        <arg name="back_controllers" value="joint_trajectory_controller"/>
    </include>




</launch>